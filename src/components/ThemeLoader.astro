<script>
  function switchTheme() {
    let currentTheme = localStorage.getItem("alu__selectedTheme");

    if (currentTheme) {
      document.documentElement.setAttribute(
        "data-theme",
        JSON.parse(currentTheme).value.toLowerCase()
      );
      let footer = document.getElementById("footer");
      if (footer) {
        footer.dataset.theme = JSON.parse(currentTheme).value.toLowerCase();
      }
    }
  }
  switchTheme();

  document.addEventListener("astro:after-swap", switchTheme);
</script>
